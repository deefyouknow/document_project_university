# pvlib.solarposition ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?

[**HOME**](../README.md) ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å

[**BACK**](./pvlib.md) ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å

‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏î‡∏ß‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå‡∏à‡∏≤‡∏Å‡∏™‡∏°‡∏Å‡∏≤‡∏£‡∏î‡∏≤‡∏£‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡πÇ‡∏°‡πÄ‡∏î‡∏•: NOAA, NREL SPA (Solar Position Algorithm), PyEphem (‡∏ï‡∏≤‡∏°‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô)

# ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (‡∏™‡∏£‡∏∏‡∏õ)

1.  **‡∏≠‡∏¥‡∏ô‡∏û‡∏∏‡∏ï:**

    *   ‡πÄ‡∏ß‡∏•‡∏≤ (timezone-aware)
    *   latitude, longitude
    *   altitude (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏ó‡∏∞‡πÄ‡∏•)
    *   pressure, temperature (‡πÅ‡∏Å‡πâ atmospheric refraction)

2.  **‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏´‡∏•‡∏±‡∏Å (SPA Algorithm):**

    2.1 ‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏õ‡πá‡∏ô Julian date (‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÇ‡∏•‡∏Å‡πÉ‡∏ô‡∏ß‡∏á‡πÇ‡∏Ñ‡∏à‡∏£)
    2.2 ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÇ‡∏•‡∏Å (Earth heliocentric longitude/latitude, radius vector, sidereal time, equation of time)
    2.3 ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏î‡∏ß‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå‡∏ö‡∏ô‡∏ó‡∏£‡∏á‡∏Å‡∏•‡∏°‡∏ó‡πâ‡∏≠‡∏á‡∏ü‡πâ‡∏≤ (Right ascension (RA), Declination (Dec))
    2.4 ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì local hour angle (‡∏°‡∏∏‡∏°‡∏ï‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡πâ‡∏≠‡∏á‡∏ü‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏ú‡∏π‡πâ‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï)
    2.5 ‡πÅ‡∏õ‡∏•‡∏á RA/Dec ‡πÄ‡∏õ‡πá‡∏ô Altitude/Azimuth (‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏Å‡πâ atmospheric refraction)

    **‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**

    *   zenith (‡∏°‡∏∏‡∏°‡∏î‡∏ß‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå‡∏Å‡∏±‡∏ö‡πÅ‡∏ô‡∏ß‡∏î‡∏¥‡πà‡∏á)
    *   apparent\_zenith
    *   elevation / apparent\_elevation
    *   azimuth

3.  **‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î:**

```python
import pvlib
from pvlib import location
import pandas as pd

# üìç ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
latitude = 13.753725102119539      # ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø
longitude = 100.47237396240236
altitude = 9          # ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏ó‡∏∞‡πÄ‡∏• (‡πÄ‡∏°‡∏ï‡∏£)

# üïí ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏ß‡∏•‡∏≤ (‡πÉ‡∏ä‡πâ timezone 'Asia/Bangkok')
times = pd.date_range('2025-11-21 00:00:00', '2025-11-21 23:59:59',
                      freq='1T', tz='Asia/Bangkok') 
# freq ‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà 1T ‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö 1 ‡∏ô‡∏≤‡∏ó‡∏µ 1H ‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö 1 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á 1S ‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö 1 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ 
# ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏™‡πà ‡∏Ñ‡πà‡∏≤ default ‡∏Ñ‡∏∑‡∏≠ 1S

# üó∫Ô∏è ‡∏™‡∏£‡πâ‡∏≤‡∏á Location object
site = location.Location(latitude, longitude, tz='Asia/Bangkok', altitude=altitude)

# ‚òÄÔ∏è ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏î‡∏ß‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå
solar_position = site.get_solarposition(times)

print(solar_position[['apparent_zenith', 'apparent_elevation', 'azimuth']])
```

4.  **‡∏™‡∏π‡∏ï‡∏£‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î:**

    *   pvlib ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏à‡∏≤‡∏Å: "Solar Position Algorithm for Solar Radiation Applications" ‚Äì NREL, Reda & Andreas (2008)
    *   ‡∏™‡∏°‡∏Å‡∏≤‡∏£‡∏Å‡∏ß‡πà‡∏≤ 100 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î (nutation, aberration, obliquity of the ecliptic, apparent sun longitude, hour angle, altitude/azimuth trig equations)
    *   ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏π‡∏ï‡∏£‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î (‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÑ‡∏•‡∏ô‡πå‡∏Å‡∏±‡∏ö pvlib)? ‡πÅ‡∏à‡πâ‡∏á‡πÑ‡∏î‡πâ
